USE inventory

create database inventory;

use inventory

---DROP TABLE SUPPLIER
---DROP TABLE PRODUCT

create table SUPPLIER
(
SID varchar(9),
SNAME VARCHAR(99) NOT NULL,
SADD VARCHAR(99) NOT NULL,
SCITY VARCHAR(99) DEFAULT 'DELHI',
SPHONE VARCHAR(99) UNIQUE,

CONSTRAINT PK_ID PRIMARY KEY(SID),
);

DROP TABLE PRODUCT

CREATE TABLE PRODUCT
(
PID VARCHAR(9),
PDESC VARCHAR(99),
PRICE MONEY CHECK(PRICE>0),
CATEGORY VARCHAR(99),

CONSTRAINT FKL_ID FOREIGN KEY(PID) REFERENCES SUPPLIER(SID),
CONSTRAINT PK_PRODUCT_ID PRIMARY KEY(PID),
);

ALTER TABLE PRODUCT
DROP CONSTRAINT FKL_ID;

ALTER TABLE PRODUCT
ADD SID VARCHAR(9);

ALTER TABLE PRODUCT
ADD CONSTRAINT FK_SupplierID FOREIGN KEY (SID)
REFERENCES SUPPLIER(SID);

CREATE TABLE STOCK
(
PID VARCHAR(9),
SQTY VARCHAR(999) CHECK(SQTY>=0),
ROL VARCHAR(999) CHECK(ROL>0),
MOQ VARCHAR(999) CHECK(MOQ>=5),

CONSTRAINT FK_ID FOREIGN KEY(PID) REFERENCES PRODUCT(PID),
);


CREATE TABLE CUST
(
CID VARCHAR(9) PRIMARY KEY,
CNAME VARCHAR(99) NOT NULL,
ADDRESS VARCHAR(99) NOT NULL,
CITY VARCHAR(99) NOT NULL,
PHONE VARCHAR(99) NOT NULL,
EMAIL VARCHAR(99)NOT NULL,
DOB VARCHAR(99) CHECK(DOB<2000-01-01),
);

ALTER TABLE CUST
ADD CONSTRAINT CHK_DOB CHECK(DOB<'2000-01-01');

ALTER TABLE CUST
ALTER COLUMN DOB varchar(99);


CREATE TABLE ORDERS
(
OID VARCHAR(9),
ODATE VARCHAR(99),
PID VARCHAR(9),
CID VARCHAR(9),
OQTY VARCHAR(99) CHECK(OQTY>=1),

CONSTRAINT FK_ORDER_ID FOREIGN KEY(PID) REFERENCES PRODUCT(PID),
CONSTRAINT FK_CUST_ID FOREIGN KEY(CID) REFERENCES CUST(CID),
)

SELECT * FROM SUPPLIER;
SELECT * FROM PRODUCT;
SELECT * FROM STOCK;
SELECT * FROM CUST;
SELECT * FROM ORDERS;

ALTER TABLE SUPPLIER 
ADD EMAIL VARCHAR(99);

INSERT INTO SUPPLIER(SID,SNAME,SADD,SPHONE,EMAIL) VALUES
('S0001','SURESH', 'JANAKPURI',6734892920),
INSERT INTO SUPPLIER(SID,SNAME,SADD,SPHONE,EMAIL) VALUES
('S0002','KIRAN', 'VASANT KUNJ',9877892920,'KIRAN000@GMAIL.COM')
INSERT INTO SUPPLIER(SID,SNAME,SADD,SPHONE,EMAIL) VALUES
('S0003','MOHAN', 'CHANDANI CHOWK',6732299920,'MOHAN888@GMAIL.COM')
INSERT INTO SUPPLIER(SID,SNAME,SADD,SPHONE,EMAIL) VALUES
('S0004','RAMESH','KAROL BAGH',9865372920,'RAMESH55@GMAIL.COM')
INSERT INTO SUPPLIER(SID,SNAME,SADD,SPHONE,EMAIL) VALUES
('S0005','MANISH','BAWANA',9934892967,'MANISH567@GMAIL.COM')
INSERT INTO SUPPLIER(SID,SNAME,SADD,SPHONE,EMAIL) VALUES
('S0006','SRIKANTH','DWARKA',7348929987,'SRI345@GMAIL.COM')
INSERT INTO SUPPLIER(SID,SNAME,SADD,SPHONE,EMAIL) VALUES
('S0007','RAJESH','MAYAPURI',7834892907,'RAJESH111@GMAIL.COM');

UPDATE SUPPLIER
SET EMAIL='SURESH88@GMAIL.COM' WHERE SID='S0001';


INSERT INTO Product (PID, PDESC, PRICE, CATEGORY,SID)
VALUES
('P0001','Laptop Dell Inspiron 15', 85000.00, 'IT','S0001')
INSERT INTO Product (PID, PDESC, PRICE, CATEGORY,SID) VALUES
('P0002', 'HP Pavilion Gaming Laptop', 125000.00, 'IT', 'S0002')
INSERT INTO Product (PID, PDESC, PRICE, CATEGORY,SID) VALUES
('P0003', 'Apple iPhone 14', 70000.99, 'IT', 'S0003')
INSERT INTO Product (PID, PDESC, PRICE, CATEGORY,SID) VALUES
('P0004', 'Samsung Galaxy S21', 79009.99, 'IT', 'S0004')
INSERT INTO Product (PID, PDESC, PRICE, CATEGORY,SID) VALUES
('P0005', 'LG 4K Smart TV 55 inch', 50770.00, 'HA', 'S0005')
INSERT INTO Product (PID, PDESC, PRICE, CATEGORY,SID) VALUES
('P0006', 'Sony Bravia OLED TV 65 inch', 150000.00, 'HA', 'S0006')
INSERT INTO Product (PID, PDESC, PRICE, CATEGORY,SID) VALUES
('P0007', 'Bose Soundbar 700', 7799.00, 'HA','S0007');


/*INSERT INTO Product (PID, PDESC, PRICE, CATEGORY,SID) VALUES
('P00014', 'Beurer Blood Pressure Monitor', 900.00, 'HC','S0008')
('P0008', 'Dyson Air Purifier', 6600.00, 'HA', 4),
('P0009', 'Whirlpool Refrigerator 350L', 12000.00, 'HA', 5),
('P00010', 'Philips Air Fryer XXL', 3000.00, 'HC', 5),
('P00011', 'Braun Electric Shaver', 1207.00, 'HC', 6),
('P00012', 'Oral-B Electric Toothbrush', 100.00, 'HC', 6),
('P00013', 'Panasonic Hair Dryer', 700.00, 'HC', 7),
('P00014', 'Beurer Blood Pressure Monitor', 900.00, 'HC', 7),
INSERT INTO Product (PID, PDESC, PRICE, CATEGORY,SID) VALUES
('P00015', 'Remington Hair Straightener', 500.00, 'HC', 'S0008');*/

SELECT * FROM SUPPLIER WHERE SID = 'S0001';

INSERT INTO SUPPLIER (SID,SNAME,SADD,SPHONE,EMAIL)
VALUES ('S0008','PAWAN','NEW DELHI',8876352698,'PAWAN555@GMAIL.COM');

DELETE PRODUCT WHERE PID='P00014';

---Inserting 10 rows of stock data into the Stock table
INSERT INTO Stock (PID, SQTY, ROL, MOQ)
VALUES
('P0001', 150, 50, 20),
('P0002', 75, 30, 10),
('P0003', 200, 60, 25),
('P0004', 100, 40, 15),
('P0005', 300, 80, 30),
('P0006', 50, 20, 10),
('P0007', 120, 45, 15);
---('P0008', 180, 55, 20);
---('P0009', 90, 35, 12),
---('P0010', 400, 100, 50);


SELECT * FROM SUPPLIER;
SELECT * FROM PRODUCT;
SELECT * FROM STOCK;
SELECT * FROM CUST;
SELECT * FROM ORDERS;

TRUNCATE TABLE CUST;
DELETE CUST

-- Inserting 10 rows of customer data into the Customer table
INSERT INTO CUST (CID, CNAME, ADDRESS, CITY, PHONE, EMAIL, DOB)
VALUES
('C0001', 'John Doe', '123 Elm Street', 'New York', '1234567890', 'johndoe@example.com', '1999-03-22'),
('C0002', 'Jane Smith', '456 Oak Avenue', 'Los Angeles', '0987654321', 'janesmith@example.com', '1978-07-20'),
('C0003', 'Mike Johnson', '789 Pine Lane', 'Chicago', '2345678901', 'mikejohnson@example.com', '1992-11-05'),
('C0004', 'Emily Davis', '321 Cedar Road', 'Houston', '3456789012', 'emilydavis@example.com', '1989-01-17'),
('C0005', 'David Wilson', '654 Birch Boulevard', 'Phoenix', '4567890123', 'davidwilson@example.com', '1995-08-22'),
('C0006', 'Sarah Brown', '987 Spruce Way', 'Philadelphia', '5678901234', 'sarahbrown@example.com', '1990-02-10'),
('C0007', 'James Lee', '159 Maple Circle', 'San Antonio', '6789012345', 'jameslee@example.com', '1975-09-30'),
('C0008', 'Laura Garcia', '753 Redwood Court', 'San Diego', '7890123456', 'lauragarcia@example.com', '1980-12-12'),
('C0009', 'Robert Martinez', '951 Fir Path', 'Dallas', '8901234567', 'robertmartinez@example.com', '1993-06-08'),
('C0010', 'Maria Rodriguez', '357 Willow Place', 'San Jose', '9012345678', 'mariarodriguez@example.com', '1987-04-25')

SELECT 
    constraint_name, 
    constraint_type
FROM 
    information_schema.table_constraints
WHERE 
    table_name = 'CUST';


ALTER TABLE dbo.CUST
DROP CONSTRAINT CHK_DOB;

SELECT COLUMN_NAME, DATA_TYPE
FROM INFORMATION_SCHEMA.COLUMNS
WHERE TABLE_NAME = 'CUST' AND COLUMN_NAME = 'DOB';


SELECT CONSTRAINT_NAME
FROM INFORMATION_SCHEMA.CHECK_CONSTRAINTS
WHERE CONSTRAINT_NAME LIKE 'CK_%' ;

INSERT INTO ORDERS VALUES
('O0001','2024-01-15','P0001','C0001','5'),
('O0002','2024-02-20','P0002','C0002','7'),
('O0003','2024-03-05','P0003','C0003','90'),
('O0004','2024-04-18','P0004','C0004','88'),
('O0005','2024-05-22','P0005','C0005','55');



